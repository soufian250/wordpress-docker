!function(o){o((function(){window.the7DownloadFseFonts=function(){if(!the7_fse_fonts||0===the7_fse_fonts.length)return console.error("No fonts to download"),o.Deferred().resolve().promise();const n=o.Deferred();return wp.apiRequest({path:"/wp/v2/font-collections",method:"GET"}).done((async function(o){try{const t=o.find((function(o){return"google-fonts"===o.slug})),e=the7_fse_fonts.map((function(o){return o.fontFamily=o.fontFamily.replace(/\"/g,""),o})),r=e.map((function(o){return o.fontFamily})).filter((function(o,n,t){return t.indexOf(o)===n})),f=t.font_families.filter((function(o){return r.includes(o.font_family_settings.name)})).reduce((function(o,n){return o.push(...n.font_family_settings.fontFace),o}),[]).reduce((function(o,n){return o[[n.fontFamily,n.fontStyle,n.fontWeight].join("-")]=n.src,o}),{});for(const o of e){const n=[o.fontFamily,o.fontStyle,o.fontWeight].join("-");if(f.hasOwnProperty(n))try{const o=await fetch(f[n],{mode:"cors"}),t=await o.blob(),e=f[n].split("/").pop(),r=new FormData;r.append("font",t,e),await wp.apiRequest({path:"/the7/v1/fse-font",method:"POST",data:r,contentType:!1,processData:!1})}catch(o){console.error("Error uploading font:",o)}}n.resolve()}catch(o){console.error("Error processing fonts:",o),n.resolve()}})).fail((function(o){console.log("Cannot get font collections",o),n.resolve()})),n.promise()},void 0!==window.the7_fse_should_run&&window.the7_fse_should_run&&the7DownloadFseFonts()}))}(jQuery);