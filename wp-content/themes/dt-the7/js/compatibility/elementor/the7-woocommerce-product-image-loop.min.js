!function(e){e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-loop-product-image.default",(function(e,n){n(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e,"the7-ignore-anim"),e.productSlider()}))})),elementorFrontend.isEditMode()||The7ElementorAnimation.patchElementsAnimation(e(".elementor-widget-the7-woocommerce-loop-product-image .the7-overlay-content"),"the7-ignore-anim"),elementorFrontend.isEditMode()&&elementorEditorAddOnChangeHandler("the7-woocommerce-loop-product-image",(function(n,i){let t=[...The7ElementorSettings.getResponsiveSettingList("hover_visibility")];const o=n.model.get("name");if(-1!==t.indexOf(o)){const n=e(i.$el),t=n.data("productSlider");void 0!==t?t.refresh():n.productSlider()}}))})),e.productSlider=function(n){const i={slider:".elementor-slides-wrapper",slide:"the7-swiper-slide",activeSlide:".swiper-slide-active",activeDuplicate:".swiper-slide-duplicate-active"};let t,o,a,s,r,l,d,u,c=e(n),p=!1,m={$swiperContainer:c.find(i.slider),animatedSlides:{},activeElements:[]};m.$slides=m.$swiperContainer.find("."+i.slide);const h=c.find(".elementor-slides-wrapper");e.data(n,"productSlider",c),t={init:function(){if(c.layzrInitialisation(),l=c.find(".the7-overlay-content"),l.length&&(p=!0,a=new The7ElementorAnimation,s=a.findAnimationsInNode(l),c.find("a.post-thumbnail-rollover").length&&!elementorFrontend.isEditMode()&&(l.css("cursor","pointer"),l.on("click",(function(n){let i=e(this).parent(),t=i.hasClass("product-image-carousel-wrap")?i.find(".dt-owl-item.active a.post-thumbnail-rollover"):i.find("a.post-thumbnail-rollover");"a"===n.target.tagName.toLowerCase()||e(n.target).parents("a").length||"button"===n.target.tagName.toLowerCase()||(void 0!==t.attr("data-elementor-open-lightbox")?t.trigger("click"):window.location.href=t.attr("href"))})))),o=new The7ElementorSettings(c),r=o.getSettings(),this.initSlider(),c.refresh(),p&&"hover-hide"===d)a.animateElements(s);c.one("mouseenter touchstart",(function(){c.find(".post-thumbnail-rollover img").addClass("run-img-transitions")}))},initSlider:async function(){if(h.length){const e=elementorFrontend.utils.swiper;u=await new e(h,this.getSwiperOptions()),u.navigation.enabled=!0,t.isEnoughtElements(u.params.slidesPerView)&&(u.navigation.enabled=!1),t.loopLazyFix(),t.updateNav()}},getSwiperOptions:function(){swiperOptions={grabCursor:!0,loop:t.isEnableLoop(),loopPreventsSlide:!0,pauseOnMouseEnter:!0,speed:r.transition_speed,effect:r.transition,slideClass:"the7-swiper-slide",nested:!0};return swiperOptions.navigation={prevEl:m.$swiperContainer.siblings(".the7-swiper-button-prev")[0],nextEl:m.$swiperContainer.siblings(".the7-swiper-button-next")[0],disabledClass:"swiper-button-disabled"},"fade"===r.transition&&(swiperOptions.fadeEffect={crossFade:!0}),swiperOptions.pagination={el:m.$swiperContainer.siblings(".swiper-pagination")[0],type:"bullets",bulletActiveClass:"active",bulletClass:"owl-dot",clickable:!0,renderBullet:function(e,n){return'<button role="button" class="'+n+'" aria-label="Go to slide '+e+'1"><span></span></button>'}},swiperOptions},getInitialSlide:()=>0,loopLazyFix:function(){if(u.params.loop){let n=e(u.wrapperEl).children("."+u.params.slideDuplicateClass);n.find(".is-loading").removeClass("is-loading"),n.layzrInitialisation()}},isEnableLoop:function(e){return t.getSlidesCount()>1},isEnoughtElements:function(e){return e<t.getSlidesCount()},getSlidesCount:function(){return m.$slides.length},updateNav:function(){t.isEnoughtElements(u.params.slidesPerView)?u.navigation.enabled||(u.navigation.destroy(),u.navigation.init(),u.navigation.update(),u.pagination.destroy(),u.pagination.init(),u.pagination.render(),u.pagination.update(),u.navigation.enabled=!0):u.navigation.enabled&&(u.navigation.destroy(),u.navigation.$nextEl&&u.navigation.$nextEl.addClass(u.params.navigation.disabledClass),u.navigation.$prevEl&&u.navigation.$prevEl.addClass(u.params.navigation.disabledClass),u.pagination.destroy(),u.pagination.$el&&u.pagination.$el.addClass(u.params.pagination.hiddenClass),u.navigation.enabled=!1)},handleResize:function(){if(p)switch(d=The7ElementorSettings.getResponsiveControlValue(r,"hover_visibility"),d){case"always":a.animateElements(s);break;case"disabled":a.resetElements(s)}},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width-debounce",t.handleResize),p&&(c.on({mouseenter:t.mouseenter,mouseleave:t.mouseleave}),c.on("the7-slide:change",t.onSlideChange),c.on("the7-slide:hide",t.onSlideHide),c.on("the7-slide:init",t.onSlideInit))},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width-debounce",t.handleResize),p&&(c.off({mouseenter:t.mouseenter,mouseleave:t.mouseleave}),c.off("the7-slide:change",t.onSlideChange),c.off("the7-slide:hide",t.onSlideHide),c.off("the7-slide:init",t.onSlideInit))},mouseenter:function(){switch(d){case"hover":t.addAnimation();break;case"hover-hide":t.resetAnimation()}},mouseleave:function(){switch(d){case"hover":t.resetAnimation();break;case"hover-hide":t.addAnimation()}},onSlideChange:function(e){if(p){["always","hover-hide"].includes(d)&&a.animateElements(s)}},onSlideHide:function(e){if(p){["always","hover-hide"].includes(d)&&a.resetElements(s)}},onSlideInit:function(e){if(p){["always","hover-hide"].includes(d)&&a.resetElements(s)}},onOverlayTransitionsEnd:function(e){"opacity"===e.originalEvent.propertyName&&a.resetElements(s)},resetAnimation:function(){l.on("transitionend",t.onOverlayTransitionsEnd)},addAnimation:function(){l.off("transitionend",t.onOverlayTransitionsEnd),a.animateElements(s)}},c.refresh=function(){r=o.getSettings(),t.unBindEvents(),t.bindEvents(),t.handleResize()},c.delete=function(){t.unBindEvents(),c.removeData("productSlider")},c.getSwiper=function(){return u},t.init()},e.fn.productSlider=function(){return this.each((function(){void 0!==e(this).data("productSlider")&&e(this).removeData("productSlider"),new e.productSlider(this)}))}}(jQuery);