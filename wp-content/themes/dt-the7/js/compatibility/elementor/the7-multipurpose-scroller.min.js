!function(e){"use strict";const t=function(t){let n,i,o,r,l,s,d=e(t);e.data(t,"multipurposeScroller",d);const a={wrapper:".nativeScroll",slider:".nsContent",slides:"> .nsItem"};let m={$sliderContainer:d.find(a.slider).first(),$sliderWrapper:d.find(a.wrapper).first(),animatedSlides:{}};m.$slides=m.$sliderContainer.find(a.slides),r={init:function(){n=new The7ElementorSettings(d),i=new The7ElementorAnimation,l=n.getWidgetType(),elementorFrontend.isEditMode()&&r.handleCTA(),o=n.getSettings(),r.bindEvents(),r.findAnimationInElements(),r.removeElementsAnimation(),m.$sliderWrapper.The7MultipurposeScroller()},findAnimationInElements:function(){m.animatedSlides={},e(m.$slides).each((function(t){const n=e(this);let o=i.findAnimationsInNode(n,"the7-ignore-anim");o.length&&(m.animatedSlides[t]=o)}))},onActivateAnimation:function(e,t){let n=m.$slides.index(t);t.find(".the7-ignore-anim").trigger("the7-slide:change"),n in m.animatedSlides&&i.animateElements(m.animatedSlides[n])},onDeactivateAnimation:function(e,t){},removeElementsAnimation(){let t=[];Object.keys(m.animatedSlides).forEach((function(n){let i=m.animatedSlides[n];t=e.merge(e.merge([],i),t)})),i.resetElements(t)},bindEvents:function(){d.on("the7-ns:item-active",r.onActivateAnimation),d.on("the7-ns:item-not-active",r.onDeactivateAnimation),elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(e){clearTimeout(s),s=setTimeout((()=>{m.$slides.not(".active").find(".the7-animate").trigger("the7-slide:init")}),100)}))},unBindEvents:function(){d.off("the7-ns:item-active",r.onActivateAnimation),d.off("the7-ns:item-not-active",r.onDeactivateAnimation)},handleCTA:function(){if("undefined"==typeof elementorPro)return;const e=document.querySelector(`[data-id="${n.getID()}"] .e-loop-empty-view__wrapper`);if(document.querySelector(`[data-id="${n.getID()}"] .e-loop-empty-view__wrapper_old`))return void m.$sliderWrapper.css("opacity",1);if(!e)return;const t=e.attachShadow({mode:"open"});t.appendChild(elementorPro.modules.loopBuilder.getCtaStyles()),t.appendChild(elementorPro.modules.loopBuilder.getCtaContent(l));t.querySelector(".e-loop-empty-view__box-cta").addEventListener("click",(()=>{elementorPro.modules.loopBuilder.createTemplate()})),m.$sliderWrapper.css("opacity",1)}},d.refresh=function(){o=n.getSettings(),m.$sliderWrapper.The7MultipurposeScroller("update")},d.delete=function(){r.unBindEvents(),d.removeData("multipurposeScroller")},r.init()};e.fn.multipurposeScroller=function(){return this.each((function(){var n=e(this).data("multipurposeScroller");void 0!==n&&n.delete(),new t(this)}))},e(window).on("elementor/frontend/init",(function(){if(elementorFrontend.hooks.addAction("frontend/element_ready/the7-multipurpose-scroller.post",(function(e,t){t((function(){The7ElementorAnimation.patchElementsAnimation(e),e.multipurposeScroller()}))})),elementorFrontend.isEditMode()){function e(e,t){let n=[...The7ElementorSettings.getResponsiveSettingList("progress_track_width"),...The7ElementorSettings.getResponsiveSettingList("slides_min_width"),...The7ElementorSettings.getResponsiveSettingList("slides_gap"),...The7ElementorSettings.getResponsiveSettingList("slides_inline_padding"),...The7ElementorSettings.getResponsiveSettingList("slides_per_view"),...The7ElementorSettings.getResponsiveSettingList("slides_tail")];var i=e.model.get("name");if(-1!==n.indexOf(i)){var o=window.jQuery(t.$el),r=o.data("multipurposeScroller");void 0!==r?r.refresh():o.multipurposeScroller()}}elementorEditorAddOnChangeHandler("the7-multipurpose-scroller",e)}}))}(jQuery);