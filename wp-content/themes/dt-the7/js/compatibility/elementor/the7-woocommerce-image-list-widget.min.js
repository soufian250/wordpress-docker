jQuery((function(e){e.productListGallery=function(n){let t,o,i,a,s,r,l,d,c,u,m,p=e(n),f=(p.find(".dt-product-gallery"),p.find(".gallery-video-wrap"));e.data(n,"productListGallery",p),t={init:function(){if(p.layzrInitialisation(),o=new The7ElementorSettings(p),s=o.getSettings(),r=!!s.controls,l=!!s.video_autoplay,d=!!s.play_on_mobile,c=elementorFrontend.getCurrentDeviceMode(),u=p.find(".the7-video-overlay"),$triggerZoom=p.find(".woocommerce-product-gallery__trigger"),"y"===s.open_lightbox&&p.find(".dt-gallery-container").initPhotoswipe(),"y"!==s.open_lightbox&&r||p.on("click","video",(function(){this.paused?this.play():this.pause()})),u.length&&u.is(":visible")&&"y"!==s.open_lightbox?f.on("click",(function(n){var o=e(this);o.hasClass("playing-video")||(o.find(".the7-video-overlay").remove(),t.playPauseVideo(o,"play"),o.addClass("playing-video"))})):("desktop"===c&&l||"mobile"===c&&l&&d)&&f.each((function(){var n=e(this);t.playPauseVideo(n,"play")})),p.refresh(),$triggerZoom.length&&p.on("click",".zoom-flash",(function(e){e.preventDefault(),$triggerZoom.trigger("click")})),void 0===n)var n={};p.one("mouseenter",(function(){p.find(".post-thumbnail-rollover img").addClass("run-img-transitions")}))},handleResize:function(){c=elementorFrontend.getCurrentDeviceMode(),"mobile"===c&&l&&!d?f.removeClass("dt-pswp-item-no-click"):l&&"y"===s.open_lightbox&&f.addClass("dt-pswp-item-no-click")},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width-debounce",t.handleResize)},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width-debounce",t.handleResize)},mouseenter:function(){switch(m){case"hover":t.addAnimation();break;case"hover-hide":t.resetAnimation()}},mouseleave:function(){switch(m){case"hover":t.resetAnimation();break;case"hover-hide":t.addAnimation()}},onOverlayTransitionsEnd:function(e){"opacity"===e.originalEvent.propertyName&&i.resetElements(a)},resetAnimation:function(){$overlay.on("transitionend",t.onOverlayTransitionsEnd)},addAnimation:function(){$overlay.off("transitionend",t.onOverlayTransitionsEnd),i.animateElements(a)},playPauseVideo:function(e,n){var i,a,r,l,d;if(s=o.getSettings(),l=!!s.mute,d=!!s.loop,i=e.find("iframe").length>0?e.find("iframe").attr("title").split(" ")[0]:"video",a=e.find("iframe").get(0),"vimeo"===i)switch(n){case"play":0,t.postMessageToPlayer(a,{method:"play",value:1});break;case"pause":t.postMessageToPlayer(a,{method:"pause",value:1})}else if("youtube"===i)switch(n){case"play":l&&t.postMessageToPlayer(a,{event:"command",func:"mute"}),t.postMessageToPlayer(a,{event:"command",func:"playVideo"}),d&&t.postMessageToPlayer(a,{event:"command",func:"loop"});break;case"pause":t.postMessageToPlayer(a,{event:"command",func:"pauseVideo"})}else"video"===i&&null!=(r=e.find("video").get(0))&&("play"===n?r.play():r.pause())},postMessageToPlayer:function(e,n){null!=e&&null!=n&&e.contentWindow.postMessage(JSON.stringify(n),"*")}},p.refresh=function(){s=o.getSettings(),t.unBindEvents(),t.bindEvents(),t.handleResize()},p.delete=function(){t.unBindEvents(),p.removeData("productListGallery")},t.init()},e.fn.productListGallery=function(){return this.each((function(){var n=e(this).data("productListGallery");void 0!==n&&n.delete(),new e.productListGallery(this)}))}})),jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-product-images-list.default",(function(e,n){n(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.productListGallery()}))}))}));