!function(e){"use strict";e.the7StickyRow=function(t){let i,n,o,c=e(t),s=!1,r=e(window),l={};c.vars={stick:{stickOffset:0,currentConfig:null},scroll:{isActive:!1,timerId:null,didScroll:!1,lastScrollTop:0,delta:5,elementHeight:0,isDown:!1}};let f={down:"the7-e-scroll-down",noTransition:"notransition-all"},a={sticky:"the7-e-sticky",stickyActive:"the7-e-sticky-active",stickyEffects:"the7-e-sticky-effects",spacer:"the7-e-sticky-spacer"};e.data(t,"the7StickyRow",c),l={init:function(){i=new The7ElementorSettings(c),o=i.getModelCID(),elementorFrontend.isEditMode()&&elementor.channels.data.on("element:destroy",l.onDestroy),l.bindEvents(),c.refresh(),l.toggle=elementorFrontend.debounce(l.toggle,300)},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width",l.toggle),c.on("the7-sticky:effect-active",l.onEffectActive),c.on("the7-sticky:effect-not-active",l.onEffectNotActive),c.on("the7-sticky:stick",l.activateHideOnScroll),c.on("the7-sticky:unstick",l.deactivateHideOnscroll)},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width",l.toggle),c.off("the7-sticky:effect-active",l.onEffectActive),c.off("the7-sticky:effect-not-active",l.onEffectNotActive),c.off("the7-sticky:stick",l.activateHideOnScroll),c.off("the7-sticky:unstick",l.deactivateHideOnscroll)},toggle:function(){if(l.isEffectActive()?l.activateEffects():l.deactivateEffects(),l.isStickyActive()){const e=l.getStickyConfig(),t=JSON.stringify(e)!==JSON.stringify(c.vars.stick.currentConfig);null!==c.vars.stick.currentConfig&&t?c.reactivateSticky():l.activateSticky()}else l.deactivateSticky();l.updateHeight()},isEffectActive:function(){if(void 0===n)return!1;var e=elementorFrontend.getCurrentDeviceMode();if("yes"===n.the7_sticky_effects){var t=n.the7_sticky_effects_devices;if(!t||-1!==t.indexOf(e))return!0}return!1},isScrollUpActive:function(){if(void 0===n)return!1;var e=elementorFrontend.getCurrentDeviceMode();if("yes"===n.the7_sticky_scroll_up){var t=n.the7_sticky_scroll_up_devices;if(!t||-1!==t.indexOf(e))return!0}return!1},isStickyActive:function(){if(void 0===n)return!1;var e=elementorFrontend.getCurrentDeviceMode();if("yes"===n.the7_sticky_row&&!n.sticky){var t=n.the7_sticky_row_devices;if(!t||-1!==t.indexOf(e))return!0}return!1},onEffectActive:function(){c.find(".the7-e-on-sticky-effect-visibility, .elementor-widget-the7_horizontal-menu").each((function(){e(this).trigger("effect-active")})),l.updateHeight()},onEffectNotActive:function(){c.find(".the7-e-on-sticky-effect-visibility").each((function(){e(this).trigger("effect-not-active")})),l.updateHeight()},updateHeight:function(){c.vars.scroll.isActive&&(c.vars.scroll.elementHeight=c.outerHeight())},refresh:function(){},activateEffects:function(){s||(s=!0,c.reactivateSticky())},deactivateEffects:function(){s&&(s=!1,c.removeClass(a.stickyEffects),c.reactivateSticky())},getStickyConfig:function(){let e=0,t=0,o=!0,r={to:"top",offset:i.getCurrentDeviceSetting("the7_sticky_row_offset"),effectsOffset:i.getCurrentDeviceSetting("the7_sticky_effects_offset"),classes:{...a}};if(r.isScrollupActive=l.isScrollUpActive(),r.isScrollupActive){let n=i.getCurrentDeviceSetting("the7_sticky_scroll_up_translate");if(void 0!==n&&n.size)e=n.size;else{let t=l.getElementOuterSize(c,"height");e=t,c.css("--the7-sticky-scroll-up-translate",t+"px"),o=!1}t=1}o&&c.css("--the7-sticky-scroll-up-translate",""),c.vars.stick.stickOffset=e,r.stickOffset=e,r.unStickOffset=t;let f=elementorFrontend.elements.$wpAdminBar;if(s||(r.classes.stickyEffects=""),f.length&&"fixed"===f.css("position")){let e=f.height();r.offset+=e,r.extraOffset=e}return n.the7_sticky_parent&&l.isContainer(c[0].parentElement)&&(r.parent=".e-container, .e-container__inner, .e-con, .e-con-inner, .elementor-widget-wrap",r.parentBottomOffset=i.getCurrentDeviceSetting("the7_sticky_parent_bottom_offset")),r},isContainer:function(e){return["e-con-inner","e-container","e-container__inner","e-con"].some((t=>e?.classList.contains(t)))},getElementOuterSize:function(e,t,i){var n=getComputedStyle(e[0]),o=parseFloat(n[t]),c="height"===t?["top","bottom"]:["left","right"],s=[];return"border-box"!==n.boxSizing&&s.push("border","padding"),i&&s.push("margin"),s.forEach((function(e){c.forEach((function(t){o+=parseFloat(n[e+"-"+t])}))})),o},activateSticky:function(){l.isStickyInstanceActive()||!l.isStickyActive()||c.hasClass("elementor-sticky")||(c.vars.stick.currentConfig=l.getStickyConfig(),c.The7Sticky(c.vars.stick.currentConfig))},deactivateSticky:function(){l.isStickyInstanceActive()&&(c.The7Sticky("destroy"),c.removeClass(a.stickyEffects),l.deactivateHideOnscroll())},activateHideOnScroll:function(e,t){void 0!==n&&l.isScrollUpActive()&&(c.vars.scroll.isActive=!0,c.vars.scroll.didScroll=!1,c.vars.scroll.lastScrollTop=0,l.updateHeight(),r.on("scroll",l.scrollHandler),l.scrollIntervalHandler(!0),c.vars.scroll.timerId=setInterval(l.scrollIntervalHandler,200))},scrollHandler:function(){c.vars.scroll.didScroll=!0},deactivateHideOnscroll:function(){c.vars.scroll.isActive&&(r.off("scroll",l.scrollHandler),clearTimeout(c.vars.scroll.timerId),c.vars.scroll.timerId=null,c.vars.scroll.isActive=!1,c.removeClass(f.down))},scrollIntervalHandler:function(e){if(e&&(c.addClass(f.noTransition),l.setHideScroll(!0),c[0].offsetHeight,c.removeClass(f.noTransition)),c.vars.scroll.didScroll){c.vars.scroll.didScroll=!1;let e=r.scrollTop();if(Math.abs(c.vars.scroll.lastScrollTop-e)<=c.vars.scroll.delta)return;e>c.vars.scroll.lastScrollTop?!c.vars.scroll.isDown&&e>c.vars.scroll.elementHeight&&l.setHideScroll(!0):c.vars.scroll.isDown&&l.setHideScroll(!1),c.vars.scroll.lastScrollTop=e}},setHideScroll:function(e){e?(c.addClass(f.down),c.vars.scroll.isDown=!0):(c.removeClass(f.down),c.vars.scroll.isDown=!1)},getElementOuterSze:function(e,t,i){var n=getComputedStyle(e[0]),o=parseFloat(n[t]),c="height"===t?["top","bottom"]:["left","right"],s=[];return"border-box"!==n.boxSizing&&s.push("border","padding"),i&&s.push("margin"),s.forEach((function(e){c.forEach((function(t){o+=parseFloat(n[e+"-"+t])}))})),o},isStickyInstanceActive:function(){return void 0!==c.data("the7-sticky")},onDestroy:function(e){e.cid===o&&c.delete()}},c.refresh=function(){n=i.getSettings(),l.toggle(),l.refresh()},c.delete=function(){l.unBindEvents(),l.deactivateEffects(),l.deactivateSticky(),c.removeData("the7StickyRow")},c.reactivateSticky=function(){l.isStickyInstanceActive()&&(n=i.getSettings(),l.deactivateSticky(),l.activateSticky())},l.init()};var t=function(t){t.each((function(){var t=e(this);if(t.hasClass("the7-e-sticky-yes")||t.hasClass("the7-e-sticky-row-yes")){if(t.hasClass("the7-e-sticky-spacer")||t.hasClass("elementor-inner-section"))return;var i=e(this).data("the7StickyRow");void 0!==i&&i.delete(),new e.the7StickyRow(this)}}))};e.the7StickyEffectElementHide=function(t){var i,n,o,c=e(t),s="",r={effect:"the7-e-on-sticky-effect-visibility",hide:"the7-e-on-sticky-effect-visibility-hide",show:"the7-e-on-sticky-effect-visibility-show"},l={};c.vars={animDelay:500},e.data(t,"the7StickyEffectElementHide",c),l={init:function(){i=new The7ElementorSettings(c),n=i.getModelCID(),elementorFrontend.isEditMode()&&elementor.channels.data.on("element:destroy",l.onDestroy),c.refresh(),l.bindEvents(),l.toggle=elementorFrontend.debounce(l.toggle,300)},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width",l.toggle),c.on("effect-active",l.onEffectActive),c.on("effect-not-active",l.onEffectNotActive)},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width",l.toggle),c.off("effect-active",l.onEffectActive),c.off("effect-not-active",l.onEffectNotActive)},toggle:function(){var e=i.getCurrentDeviceSetting("the7_hide_on_sticky_effect");void 0!==e&&(""!==e?l.activateEffects(e):l.deactivateEffects())},activateEffects:function(e){s!==e&&""!==e&&(c.removeClass(r.hide),c.removeClass(r.show),c.addClass(r.effect),c.addClass(r[e]),s=e)},deactivateEffects:function(){""!==s&&(c.removeClass(r.hide),c.removeClass(r.show),c.removeClass(r.effect),l.unsetHeight(),s="")},onDestroy:function(e){e.cid===n&&c.delete()},getHeight:function(){return c.outerHeight()},setHeight:function(e){c.css({height:e})},unsetHeight:function(){c.css({height:""})},updateHeight:function(){l.unsetHeight(),c.removeClass(r[s]),l.setHeight(l.getHeight()),window.setTimeout(l.addEffectClass,1)},addEffectClass:function(){c.addClass(r[s])},onEffectActive:function(){switch(s){case"hide":clearTimeout(o),l.updateHeight();break;case"show":o=window.setTimeout(l.unsetHeight,c.vars.animDelay)}},onEffectNotActive:function(){switch(s){case"hide":o=window.setTimeout(l.unsetHeight,c.vars.animDelay);break;case"show":clearTimeout(o),l.updateHeight()}}},c.refresh=function(){l.toggle()},c.delete=function(){l.unBindEvents(),l.deactivateEffects(),c.removeData("the7StickyEffectElementHide")},l.init()};var i=function(t){t.each((function(){if(!e(this).hasClass("the7-e-sticky-spacer")){var t=e(this).data("the7StickyEffectElementHide");void 0!==t&&t.delete(),new e.the7StickyEffectElementHide(this)}}))};e(window).on("elementor/frontend/init",(function(){function n(e){t(e);let n=new The7ElementorSettings(e).getSettings();if(void 0!==n){The7ElementorSettings.getResponsiveSettingList("the7_hide_on_sticky_effect").some((function(e){return e in n&&""!==n[e]}))&&i(e)}}function o(t){t.each((function(){n(e(this))}))}function c(e,n){var o,c,s=[...The7ElementorSettings.getResponsiveSettingList("the7_sticky_row_offset"),...The7ElementorSettings.getResponsiveSettingList("the7_sticky_effects_offset"),...The7ElementorSettings.getResponsiveSettingList("the7_sticky_scroll_up_translate"),"the7_sticky_scroll_up","the7_sticky_scroll_up_devices","the7_sticky_row_overlap","the7_sticky_effects_devices","the7_sticky_effects","the7_hide_on_sticky_effect","the7_sticky_parent",...The7ElementorSettings.getResponsiveSettingList("the7_sticky_parent_bottom_offset")],r=["the7_sticky_row","the7_sticky_row_devices","sticky","flex_direction",...s],l=e.model.get("name");-1!==r.indexOf(l)&&(void 0!==(c=(o=window.jQuery(n.$el)).data("the7StickyRow"))?-1!==s.indexOf(l)?c.reactivateSticky():c.refresh():t(o));-1!==[...The7ElementorSettings.getResponsiveSettingList("the7_hide_on_sticky_effect")].indexOf(l)&&(void 0!==(c=(o=window.jQuery(n.$el)).data("the7StickyEffectElementHide"))?c.refresh():i(o))}elementorFrontend.elements.$document.on("elementor/popup/show",(function(e,t,i){o(i.$element.find(".elementor-section, .e-container, .e-con"))})),elementorFrontend.elements.$document.on("elementor/popup/hide",(function(t,i,n){n.$element.find(".elementor-section, .e-container, .e-con").each((function(){var t=e(this).data("the7StickyRow");void 0!==t&&t.delete(),void 0!==(t=e(this).data("the7StickyEffectElementHide"))&&t.delete()}))})),elementorFrontend.isEditMode()?(elementorEditorAddOnChangeHandler("section",c),elementorEditorAddOnChangeHandler("container",c),elementorFrontend.hooks.addAction("frontend/element_ready/section",(function(e,t){t(document).ready((function(){n(e)}))})),elementorFrontend.hooks.addAction("frontend/element_ready/container",(function(e,t){t(document).ready((function(){n(e)}))}))):elementorFrontend.on("components:init",(function(){e(document).ready((function(){o(e(".elementor-section, .e-container, .e-con"))}))}))}))}(jQuery);